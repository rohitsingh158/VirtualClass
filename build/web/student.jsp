<%@page import="java.util.Iterator"%><%@page import="java.time.format.DateTimeFormatter"%><%@page import="java.time.LocalDate"%><%@page import="java.util.HashMap"%><%    HashMap studentInfo=(HashMap)session.getAttribute("studentInfo");    if(studentInfo!=null){%><html>	<head>				<!-- Website Title & Description for Search Engine purposes -->		<title></title>		<meta name="description" content="">				<!-- Mobile viewport optimized -->		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">				<!-- Bootstrap CSS -->		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">		<link href="bootstrap/css/bootstrap-glyphicons.css" rel="stylesheet">    <link href="DataTables/datatables.min.css" rel="stylesheet"/>  		<link href="includes/css/jquery.multiselect.css" rel="stylesheet" type="text/css">				<!-- Custom CSS -->		<link href="includes/css/styles.css" rel="stylesheet">				<!-- Include Modernizr in the head, before any other Javascript -->		<script src="includes/js/modernizr-2.6.2.min.js"></script>			</head>	<body>		<div class="bg">    	<div class="header">            <div class="container  text-center">                <a class="logo-hyper" href="index.jsp"><b>Virtual Class</b></a>            </div>        </div>        <div class="container ">        	<div class="row">            	<div class="menu col-md-12 ">                	<div class="menu1 pull-left">                      <a href='student.jsp'>Home</a> &nbsp;&nbsp;&nbsp;&nbsp;                    	<a href='chat.jsp'>Chat</a> &nbsp;&nbsp;&nbsp;&nbsp;                                          <a href='Logout'>Logout</a>                    </div>                    <div class="menu1 pull-right">                    	<p>Welcome &nbsp;&nbsp; <b><%=studentInfo.get("name")%></b></p>                    </div>                </div>            </div>                       <%                String msg=(String)session.getAttribute("msg");                if(msg!=null)                  {            %>            <div class="panel panel-primary">                <div class="panel-heading text-center">                    <p><%=msg%></p>                </div>            </div>            <%                session.setAttribute("msg", null);                }            %>                                              <div class="row">            	  <div class=" col-md-8 pull-right">                  <div class="notice-box">                      <h5 class="text-center"> Notice Updates </h5>                                              <marquee class="marquee text-center" behavior="scroll" direction="down" scrollamount="2" onmouseover="this.stop();" onmouseout="this.start();">                         <%                             String c=(String)studentInfo.get("course");                        LocalDate cDate = LocalDate.now();                        String cd=cDate.format(DateTimeFormatter.ofPattern("dd-MM-yyyy"));                        db.DbConnection db=new db.DbConnection();                            java.util.ArrayList<HashMap> allNotice=db.getAllFNotice(cd);                            Iterator i=allNotice.iterator();                            while(i.hasNext()){                             HashMap notice=(HashMap)i.next();                               String cr=(String)notice.get("course");                            if(cr.indexOf(c)!=-1)                            {                                int nid=(int)notice.get("nid");                                               %>                        <p><b><%= notice.get("sub") %> : &nbsp;&nbsp;</b>                        <%=  notice.get("body") %><br>                                                   &nbsp;&nbsp;Download :- <b><a href="FDownloadFile?nid=<%=nid%>"><%= notice.get("filename") %></a></p></b>                       <%                       }                        }                       %>                        </marquee>                    </div>                </div>                <div class=" col-md-4 pull-right">                  <div class="notice-box">                      <h5 class="text-center"> Profile </h5>                      <p>                       <a href="editprofile.jsp">Edit Profile</a> <br/><br/>                      Roll No: <b> <%=studentInfo.get("roll")%> </b> <br/>                      Name: <b> <%=studentInfo.get("name")%></b> <br/>                      Father Name: <b><%=studentInfo.get("fname")%>  </b> <br/>                      Email: <b><%=studentInfo.get("email")%></b> <br/>                      Course: <b><%=studentInfo.get("course")%>  </b> <br/>                      Phone: <b>  <%=studentInfo.get("phone")%></b>                      </p>                    </div>                </div>                            </div>            <div class="row">                <div class=" col-sm-4 ">                  <div class="box">                      <h5 class="text-center"> Upload File </h5>                        <br>                        <form action="SUploads" method="post" enctype="multipart/form-data" data-toggle="validator" class="form-horizontal" role="form">                            <div class="form-group">                                <input type="hidden" name="roll" value="<%=studentInfo.get("roll")%>"/>                                <div class="col-sm-10 col-sm-offset-1">                                  <input type="text" class="form-control" name="sub" placeholder ="Subject" required>                                </div>                            </div>                            <div class="form-group">                                <div class="col-sm-10 col-sm-offset-1">                                  Select Faculty:<br>                                  <select name="fname"  class="form-control" required>                               <%                                 java.util.ArrayList allFacultyID =db.getAllFacultyIDByCourse(c);                                 Iterator it=allFacultyID.iterator();                                 while(it.hasNext()){                                     String fid=(String)it.next();                                     HashMap faculty=db.getFaculty(fid);                                                                    %>                               <option value="<%=faculty.get("name")%>"><%=faculty.get("name")%></option>                                <%                                    }                                %>                                  </select>                                                               </div>                            </div>                            <div class="form-group">                                                              <div class="col-sm-10 col-sm-offset-1">                                  Upload File:<br>                                  <input type="file" class="form-control" name="file" required >                                </div>                            </div>                            <div class="form-group">                                 <div class="col-sm-offset-1 col-sm-10">                                  <button type="submit" class="btn btn-primary">Upload</button>                                </div>                            </div>                        </form>                    </div>                </div>                <div class="notice-table col-md-8 pull-left">                  <h4 class="text-center">Student File Upload Details</h4><hr/>                  <table id="mydata" class=" table table-striped table-bordered hover" cellspacing="0" width="100%">                      <thead>                          <tr>                              <th>Subject</th>                              <th>Faculty Name</th>                              <th>Uploaded File</th>                              <th>Upload Date</th>                          </tr>                        </thead>                                                <tbody>                        <%                                                       java.util.ArrayList sUpload=db.getSUpload((int)studentInfo.get("roll"));                            Iterator it1=sUpload.iterator();                            while(it1.hasNext()){                                HashMap up=(HashMap)it1.next();                        %>                                <tr>                                    <td><%=up.get("sub") %></td>                                  <td><%= up.get("fnames") %></td>                                  <td><a href="SUDownloadFile?suid=<%=up.get("suid") %>"><%= up.get("filename")  %></a></td>                                  <td><%= up.get("udate")  %></td>                                                            </tr>                            <%                              }                            %>                                                                            </tbody>                    </table>                </div>            </div>                    </div>        <div class="footer">            <div class="container text-center">                Design & Develop By Rohit Singh, Himanshu Singh,Bharti Singh            </div>        </div>    </div>	  <script type="text/javascript" src="js/jquery-2.2.2.min.js"></script>  <script src="DataTables/datatables.min.js"></script>  <script src="bootstrap/js/bootstrap.min.js"></script>  <script src="includes/js/validator.js"></script>  <script src="includes/js/jquery.multiselect.js"></script>    <script type="text/javascript">      $(document).ready(function() {      $('#mydata').dataTable();    });    $('select[multiple]').multiselect({        columns: 2,        placeholder: 'Select'    });  </script>		</body></html><%}else{        session.setAttribute("msg","Please Login First!!");        response.sendRedirect("index.jsp");    } %> 